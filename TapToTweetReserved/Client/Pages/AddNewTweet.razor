@page "/addnew"
@attribute [Authorize]
@inject IJSRuntime JS
@inject HttpClient HttpClient
@inject NavigationManager NavigationManager

<EditTweetForm OnOK="OnOK"></EditTweetForm>

@code
{
    [CascadingParameter]
    private UIContext UIContext { get; set; }

    protected override void OnInitialized()
    {
        this.UIContext.PageTitle = "EDIT MODE - Add";
        this.UIContext.SetMenuItem(/* NO MENU ITEMS */);
        this.JS.SetInitialFocus();
    }

    private async Task OnOK(string textToTweet)
    {
        await this.HttpClient.PostJsonAsync("/api/reservedtweets", new ReservedTweet { TextToTweet = textToTweet });
        this.NavigationManager.NavigateTo("/list-of-editmode");
    }
}